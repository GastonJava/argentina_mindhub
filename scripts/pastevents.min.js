let c=console.log,plantillaCard="",mensajeglobal="",h1=document.createElement("h1");h1.setAttribute("id","estiloh1");const cardWrapper=document.querySelector(".card-wrapper");function textoLength(e,t){return`${e.slice(0,t)} â€¦`}const fnDuplicado=e=>new Set(e).size<e.length;function currentDateNow(){let e="";return data.currentDate.match(/(\d+)/g).join("")}function pastevent(){document.querySelector(".cards");let e=document.querySelector(".card-wrapper");for(let t of data.events){let a=/(\d+)/g;t.date.match(a).join("")<currentDateNow()&&(plantillaCard+=`
         <div class="card card1">
         <div class="card-header">
           <div class="imagen">
             <img src="${t.image}" alt="imagen card 1">
           </div>
           
         </div>
         <div class="card-main">
           <div class="titulos">
             <h1>${t.name}</h1>
             <p>${textoLength(t.description,40)}</p>
           </div>
     
         </div>
         <div class="card-footer">
           <div class="footer">
             <div class="titulo">
               <p>Price: $${t.price}</p>
             </div>
     
             <div class="boton">
               <button><a href="Details.html?id=${t._id}">ver mas</a></button>
             </div>
            
           </div>
     
         </div>
     
         </div>
         `)}e.innerHTML=plantillaCard}function pastcards(){let e=[];for(dataupcoming of data.events){let t=/(\d+)/g;dataupcoming.date.match(t).join("")<currentDateNow()&&e.push({_id:`${dataupcoming._id}`,image:`${dataupcoming.image}`,name:`${dataupcoming.name}`,date:`${dataupcoming.date}`,description:`${dataupcoming.description}`,category:`${dataupcoming.category}`,place:`${dataupcoming.place}`,capacity:`${dataupcoming.capacity}`,assistance:`${dataupcoming.assistance}`,price:`${dataupcoming.price}`})}return e}function inputSearch(){let e=document.querySelector(".searchbtn");e.addEventListener("click",e=>{let t=document.querySelector(".input-search").value,a=document.createTextNode(""),r=document.createTextNode("el valor ingresado no coincide con nuestras busquedas... ");(e.preventDefault(),existeValue(t,pastcards()))?(mensaje(a),recorrecards(pastcards()),h1.textContent=""):(document.querySelectorAll(".card").forEach(e=>{e.classList.add("escondercards")}),mensaje(r))})}function mensaje(e){let t=document.querySelector(".card-wrapper");return document.createTextNode(`${e}`),h1.textContent.length>3?h1.appendChild(document.createTextNode("")):h1.appendChild(e),t.appendChild(h1)}function existeValue(e,t){let a=!1;return t.map((t,r)=>{e.toLowerCase()===t.category.toLowerCase()&&(a=!0)}),a}function Checkboxfn(){let e=document.querySelectorAll(".checkbox"),t=0,a=[],r=document.querySelectorAll(".card");for(let s of e)s.addEventListener("change",function(){let e=!1;!0===s.checked?(a.push(s.value),fnDuplicado(a),e=!0):(a=a.filter(e=>e!==s.value),e=!1),Cbvalues(r,pastcards(),e,a)}),t++}function Cbvalues(e,t,a,r){let s=0;for(let n of(document.querySelectorAll(".checkbox"),t))e[s].classList.add("escondercards"),r.map(t=>{t==n.category&&(h1.textContent="",e[s].classList.contains("escondercards")?e[s].classList.remove("escondercards"):e[s].classList.add(""))}),0===r.length&&e[s].classList.remove("escondercards"),s++}function recorrecards(e){let t=document.querySelectorAll(".card"),a=document.querySelector(".input-search").value;e.map((e,r)=>{a.toLowerCase()===e.category.toLowerCase()?t[r].classList.contains("escondercards")&&t[r].classList.remove("escondercards"):t[r].classList.contains("escondercards")||t[r].classList.add("escondercards")})}pastcards(),pastevent(),inputSearch(),Checkboxfn();