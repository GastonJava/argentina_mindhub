let c=console.log,plantillaCard="",mensajeglobal="",h1=document.createElement("h1");h1.setAttribute("id","estiloh1");const cardWrapper=document.querySelector(".card-wrapper");function textoLength(e,a){return`${e.slice(0,a)} â€¦`}const fnDuplicado=e=>new Set(e).size<e.length;function currentDateNow(){let e="";return data.currentDate.match(/(\d+)/g).join("")}function CrearCards(){for(let e of data.events){let a=/(\d+)/g;e.date.match(a).join("")>currentDateNow()&&(plantillaCard+=`
     <div class="card card1">
     <div class="card-header">
       <div class="imagen">
         <img src="${e.image}" alt="imagen card 1">
       </div>
       
     </div>
     <div class="card-main">
       <div class="titulos">
         <h1>${e.name}</h1>
         <p>${textoLength(e.description,40)}</p>
       </div>
 
     </div>
     <div class="card-footer">
       <div class="footer">
         <div class="titulo">
           <p>Price: $${e.price}</p>
         </div>
 
         <div class="boton">
           <button><a href="Details.html?id=${e._id}">ver mas</a></button>
         </div>
        
       </div>
 
     </div>
 
     </div>
     `)}cardWrapper.innerHTML=plantillaCard}function upcomingcards(){let e=[];for(dataupcoming of data.events){let a=/(\d+)/g;dataupcoming.date.match(a).join("")>currentDateNow()&&e.push({_id:`${dataupcoming._id}`,image:`${dataupcoming.image}`,name:`${dataupcoming.name}`,date:`${dataupcoming.date}`,description:`${dataupcoming.description}`,category:`${dataupcoming.category}`,place:`${dataupcoming.place}`,capacity:`${dataupcoming.capacity}`,assistance:`${dataupcoming.assistance}`,price:`${dataupcoming.price}`})}return e}function inputSearch(){let e=document.querySelector(".searchbtn");e.addEventListener("click",e=>{let a=document.querySelector(".input-search").value;e.preventDefault();let t=document.createTextNode(""),r=document.createTextNode("el valor ingresado no coincide con nuestras busquedas... ");existeValue(a,upcomingcards())?(mensaje(t),recorrecards(upcomingcards()),h1.textContent=""):(document.querySelectorAll(".card").forEach(e=>{e.classList.add("escondercards")}),mensaje(r))})}function mensaje(e){let a=document.querySelector(".card-wrapper");return document.createTextNode(`${e}`),h1.textContent.length>3?h1.appendChild(document.createTextNode("")):h1.appendChild(e),a.appendChild(h1)}function existeValue(e,a){let t=!1;return a.map((a,r)=>{e.toLowerCase()===a.category.toLowerCase()&&(t=!0)}),t}function Checkboxfn(){let e=document.querySelectorAll(".checkbox"),a=0,t=[],r=document.querySelectorAll(".card");for(let s of e)s.addEventListener("change",function(){let e=!1;!0===s.checked?(t.push(s.value),fnDuplicado(t),e=!0):(t=t.filter(e=>e!==s.value),e=!1),Cbvalues(r,upcomingcards(),e,t)}),a++}function Cbvalues(e,a,t,r){let s=0;for(let n of(document.querySelectorAll(".checkbox"),a))e[s].classList.add("escondercards"),r.map(a=>{a==n.category&&(e[s].classList.contains("escondercards")?e[s].classList.remove("escondercards"):e[s].classList.add(""))}),0===r.length&&e[s].classList.remove("escondercards"),s++}function recorrecards(e){let a=document.querySelector(".input-search").value,t=document.querySelectorAll(".card");e.map((e,r)=>{a.toLowerCase()===e.category.toLowerCase()?t[r].classList.contains("escondercards")&&t[r].classList.remove("escondercards"):t[r].classList.contains("escondercards")||t[r].classList.add("escondercards")})}upcomingcards(),CrearCards(),inputSearch(),Checkboxfn();